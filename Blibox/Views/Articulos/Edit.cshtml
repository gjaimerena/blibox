@model Blibox.Articulo

@section Scripts
{
    <script>
        function editcomp() {
            // var nro_comp = document.getElementById("nrocomponentes").value();
            var nro_comp = @Html.Raw(Model.Componente.Count());


            switch (nro_comp) {
                case 1:
                    $("#componente1").show();
                    $("#componente2").hide();
                    $("#componente3").hide();
                    $("#changeNroComponentes").show();
                    $("#changeNroComponentes").val="Agregar Componente 2";
                   
                    break;
                case 2:
                    $("#componente1").show();
                    $("#componente2").show();
                    $("#componente3").hide();
                    $("#changeNroComponentes").show();
                    $("#changeNroComponentes").val="Agregar Componente 3";
                    break;
                case 3:
                    $("#componente1").show();
                    $("#componente2").show();
                    $("#componente3").show();
                    $("#changeNroComponentes").show();
                    $("#changeNroComponentes").val="Quitar Componente 3";
                    break;
                case 0:
                    $("#componente1").hide();
                    $("#componente2").hide();
                    $("#componente3").hide();
                    $("#changeNroComponentes").show();
                    $("#changeNroComponentes").val="Agregar Componente";
                    break;
                default:
                    $("#componente1").hide();
                    $("#componente2").hide();
                    $("#componente3").hide();
                    break;
            }
        }

        function Addcomp(){
            @*if ($("#changeNroComponentes").val=="Agregar Componente") @Model.Componente..Add( var item = new Componente());*@
        }
    </script>

}
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            @ViewBag.Message
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active">@ViewBag.Message</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

        <!-- SELECT2 EXAMPLE -->
            <div class="box box-default">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="box-header with-border">
                    <h3 class="box-title">Nuevo Articulo</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        @* <div class="col-md-3">
                                <div class="form-group">
                                    <label>ID Articulo</label>
                                    <div>
                                        @Html.EditorFor(model => model.ID_articulo, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
                                        @Html.ValidationMessageFor(model => model.ID_articulo, "", new { @class = "text-danger" })
                                    </div>
                                </div><!-- /.form-group -->
                            </div>*@

                        <div class="col-md-3">
                            <div class="form-group">
                                <label>ID Cliente</label>
                                <div>
                                    @Html.DropDownList("ID_cliente", null, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.ID_cliente, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->

                        <div class="col-md-3">
                            <div class="form-group">
                                <label>F0PD</label>
                                @Html.EditorFor(model => model.ID_articulo, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.ID_articulo, "", new { @class = "text-danger" })
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                    </div>
                    <div class="row">
                        <div class="col-md-9">
                            <div class="form-group">
                                <label>Descripción</label>
                                <div>
                                    @Html.EditorFor(model => model.Descripcion, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Descripcion, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->

                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Precio Costo</label>
                                <div>
                                    @Html.EditorFor(model => model.Costo, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Costo, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Precio Lista</label>
                                <div>
                                    @Html.EditorFor(model => model.Precio_lista, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Precio_lista, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->

                        <div class="col-md-2">

                            <div class="form-group">
                                <label>Fecha Precio Lista:</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </div>
                                    @Html.EditorFor(model => model.Precio_fecha, new { htmlAttributes = new { @class = "form-control  pull-right", id = "reservation" } })
                                    @Html.ValidationMessageFor(model => model.Precio_fecha, "", new { @class = "text-danger" })
                                </div><!-- /.input group -->
                            </div><!-- /.form group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>IVA</label>
                                <div>
                                    @Html.RadioButtonFor(model => model.IVA, "SI") SI
                                    @Html.RadioButtonFor(model => model.IVA, "NO") NO
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Stock</label>
                                <div>
                                    @Html.EditorFor(model => model.Stock, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Stock, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Stock Minimo</label>
                                <div>
                                    @Html.EditorFor(model => model.Stock_minimo, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Stock_minimo, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->

                        <div class="col-md-3">
                            <div class="form-group">
                                <label>Fazon</label>
                                <div>
                                    @Html.RadioButtonFor(model => model.Fazon, "SI") SI
                                    @Html.RadioButtonFor(model => model.Fazon, "NO") NO
                                    @Html.ValidationMessageFor(model => model.Fazon, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Cantidad por bulto</label>
                                <div>
                                    @Html.EditorFor(model => model.Cant_x_bulto, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Cant_x_bulto, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Tamaño Caja</label>
                                <div>
                                    @Html.EditorFor(model => model.Tamaño_caja, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Tamaño_caja, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Tiraje Term. por Hora</label>
                                <div>
                                    @Html.EditorFor(model => model.Tiraje_term_x_hora, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Tiraje_term_x_hora, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Tiraje troquel por hora</label>
                                <div>
                                    @Html.EditorFor(model => model.Tiraje_troquel_x_hora, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Tiraje_troquel_x_hora, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                    <div class="row">
                        <div class="col-md-9">
                            <div class="form-group">
                                <label>Observaciones</label>
                                <div>
                                    @Html.EditorFor(model => model.Observaciones, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Observaciones, "", new { @class = "text-danger" })
                                </div>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->

                    </div><!-- /.row -->
                    <!--Agregar componenetes-->
                    <div class="row">
                        <div class="form-group">
                            <div @*class="box-footer"*@>
                                <div class="col-md-3">
                                    <label>Seleccione cantidad de componentes</label>
                                </div>
                                <div class="col-md-2">

                                    <input name="EditComponentes" class="btn btn-primary" type="button" value="Editar Componentes" onClick="editcomp()" />
                                    <input name="AddComponentes" class="btn btn-primary" type="button" value="Agregar Componentes" onClick="Addcomp()" id="changeNroComponentes" />
                                    @*@Html.Action("Editar Componentes",null, new { @onClick = "editcomp()", @class = "form-control", @id = "nrocomponentes"  })*@
                                    @*@Html.DropDownList("nrocomponentes", (SelectList)ViewBag.componentes, new { @onchange = "changecomp(nrocomponentes)", @class = "form-control", @id = "nrocomponentes" })*@
                                </div>
                            </div>
                        </div>
                    </div>

              

                    <br />

               @{ if (Model.Componente.Count() > 0)
                   {
                    <div class="box box-default" id="componente1" style="display:none;">
                        <div class="box-header with-border">
                            <h3 class="box-title">Componente 1</h3>
                            <div class="box-tools pull-right">

                            </div><!-- /.box-tools -->
                        </div><!-- /.box-header -->
                        <div class="box-body">

                            <div class="col-md-6">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>Material</label>
                                        <div>
                                            @Html.DropDownList("material1", (SelectList)ViewBag.Mat_Descripcion)

                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label>Peso</label>
                                        <div>
                                            @Html.DisplayName((String)@ViewBag.Peso)

                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>Marco</label>
                                        <div>
                                            @Html.DropDownList("marco1", (SelectList)ViewBag.marco)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                            </div>
                            <div class="col-md-3">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Ciclo</label>
                                        <div>
                                            @Html.Editor("ciclos1", new { htmlAttributes = new { @class = "form-control" } })
                                            @*@Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Ciclos, "", new { @class = "text-danger" })*@
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Bocas</label>
                                        <div>
                                            @Html.Editor("bocas1", new { htmlAttributes = new { @class = "form-control" } })
                                            @*@Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Bocas, "", new { @class = "text-danger" })*@
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Espesor</label>
                                        <div>
                                            @Html.Editor("espesor1", new { htmlAttributes = new { @class = "form-control" } })
                                            @*@Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Espesor, "", new { @class = "text-danger" })*@
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Matriz</label>
                                        <div>

                                            @Html.DropDownList("matriz_codigo1", (SelectList)ViewBag.Matriz)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div><!-- /.col -->



                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Cortante</label>
                                        <div>
                                            @Html.DropDownList("Cortante_codigo1", (SelectList)ViewBag.cortante)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div><!-- /.col -->

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Color</label>
                                        <div>
                                            @Html.Editor("color1", new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessage("color1", "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- /.box-body -->
                    </div><!--./box-->
                   }
             }
               @{ if (Model.Componente.Count() > 1) { 
                    <div class="box box-default" id="componente2" style="display:none;">
                        <div class="box-header with-border">
                            <h3 class="box-title">Componente 2</h3>
                            <div class="box-tools pull-right">

                            </div><!-- /.box-tools -->
                        </div><!-- /.box-header -->

                        <div class="box-body">

                            <div class="col-md-6">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>Material</label>
                                        <div>
                                            @Html.DropDownList("material2", (SelectList)ViewBag.Mat_Descripcion)

                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label>Peso</label>
                                        <div>
                                            @Html.DisplayName((String)@ViewBag.Peso)

                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>Marco</label>
                                        <div>
                                            @Html.DropDownList("marco2", (SelectList)ViewBag.marco)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                            </div>
                            <div class="col-md-3">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Ciclo</label>
                                        <div>
                                            @Html.Editor("ciclos2", new { htmlAttributes = new { @class = "form-control" } })
                                            @*@Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Ciclos, "", new { @class = "text-danger" })*@
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Bocas</label>
                                        <div>
                                            @Html.Editor("bocas2", new { htmlAttributes = new { @class = "form-control" } })
                                            @*@Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Bocas, "", new { @class = "text-danger" })*@
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Espesor</label>
                                        <div>
                                            @Html.Editor("espesor2", new { htmlAttributes = new { @class = "form-control" } })
                                            @*@Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Espesor, "", new { @class = "text-danger" })*@
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Matriz</label>
                                        <div>
                                            @Html.DropDownList("matriz_codigo2", (SelectList)ViewBag.Matriz)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div><!-- /.col -->



                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Cortante</label>
                                        <div>
                                            @Html.DropDownList("Cortante_codigo2", (SelectList)ViewBag.cortante)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div><!-- /.col -->

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Color</label>
                                        <div>
                                            @Html.Editor("color2", new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessage("color1", "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- /.box-body -->
                    </div><!-- /.box -->
                   }}
                @{ if (Model.Componente.Count() > 2) { 
                    <!--Agregar componenetes 3-->
                    <div class="box box-default" id="componente3" style="display:none;">
                        <div class="box-header with-border">
                            <h3 class="box-title">Componente 3</h3>
                            <div class="box-tools pull-right">

                            </div><!-- /.box-tools -->
                        </div><!-- /.box-header -->

                        <div class="box-body">

                            <div class="col-md-6">
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>Material</label>
                                        <div>
                                            @Html.DropDownList("material3", (SelectList)ViewBag.Mat_Descripcion)

                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <label>Peso</label>
                                        <div>
                                            @Html.DisplayName((String)@ViewBag.Peso)

                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-5">
                                    <div class="form-group">
                                        <label>Marco</label>
                                        <div>
                                            @Html.DropDownList("marco3", (SelectList)ViewBag.marco)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                            </div>
                            <div class="col-md-3">

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Ciclo</label>
                                        <div>
                                            @Html.Editor("ciclos3", new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Ciclos, "", new { @class = "text-danger" })
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Bocas</label>
                                        <div>
                                            @Html.Editor("bocas3", new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Bocas, "", new { @class = "text-danger" })
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Espesor</label>
                                        <div>
                                            @Html.Editor("espesor3", new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.Componente.ElementAt(0).Espesor, "", new { @class = "text-danger" })
                                        </div>
                                    </div><!-- /.form-group -->
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Matriz</label>
                                        <div>
                                            @Html.DropDownList("matriz_codigo3", (SelectList)ViewBag.Matriz)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div><!-- /.col -->



                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Cortante</label>
                                        <div>
                                            @Html.DropDownList("Cortante_codigo3", (SelectList)ViewBag.cortante)
                                        </div>
                                    </div><!-- /.form-group -->
                                </div><!-- /.col -->

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Color</label>
                                        <div>
                                            @Html.Editor("color3", new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessage("color3", "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- /.box-body -->
                    </div><!-- /.box -->
                        } }


                    <div class="form-group">
                        <div class="box-footer">
                            <input type="submit" value="Actualizar" class="btn btn-primary" />
                        </div>

                    </div>
                </div><!-- /.box-body -->

            </div><!-- /.box -->

        }

        <div>
            <button type="button" class="btn btn-info ">@Html.ActionLink("Volver", "Index")</button>
        </div>

    </section>
</div><!-- /.content-wrapper -->


