@model PagedList.IPagedList<Blibox.CtaCteClientesMov>
@using PagedList.Mvc;
@*@model IEnumerable<Blibox.Cliente>*@

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            @ViewBag.Message
        </h1>
        <ol class="breadcrumb">
            <li><a href="@Url.Action("Index", "CtaCteClientes")"><i class="fa fa-dashboard"></i> Cta Cte</a></li>
            <li class="active">@ViewBag.Message</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
            
            <p>
                <button type="button" class="btn btn-info ">@Html.ActionLink("NUEVO MOVIMIENTO", "Create")</button>
            </p>

             @{ string currentFilter = ViewBag.CurrentFilter;
            string currentSort = ViewBag.CurrentSort;
            if (string.IsNullOrEmpty(currentSort))
            {
                currentSort = "id";
            } }

                <div class="row search-box">
                    <form class="form-inline">
                        @*<div class="form-group">
                            <input type="text" name="q" value="@ViewBag.searchQuery" class="search-text form-control" placeholder="Buscar..." />
                        </div>*@
                        <div class="col-md-2">
                            @Html.Label("Seleccione Cliente")
                            @Html.DropDownList("ID_cliente", (SelectList)ViewBag.ID_cliente, htmlAttributes: new { @class = "form-control" })
                            @*@Html.DropDownListFor(model => model.ID_cliente,"ID_cliente", null, htmlAttributes: new { @class = "form-control" })*@
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Fecha Desde</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </div>
                                    @Html.Editor("Fecha Desde: ", new { htmlAttributes = new { @class = "form-control  pull-right", id = "fechadesde" } })

                                </div><!-- /.input group -->
                            </div><!-- /.form group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label>Fecha Hasta</label>
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </div>
                                    @Html.Editor("Fecha Hasta: ", new { htmlAttributes = new { @class = "form-control  pull-right", id = "fechahasta" } })

                                </div><!-- /.input group -->
                            </div><!-- /.form group -->
                        </div><!-- /.col -->
                        <div class="col-md-2">
                            <div class="form-group">
                                <label></label>
                                <div class="input-group">
                                    <button type="submit" class="btn btn-info">Buscar</button>
                                </div><!-- /.col -->
                            </div>
                        </div>
                       
                    </form>
                </div>
                <br />

                <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">Clientes</h3>
                    </div>
                    <table class="table table-bordered">
                        <tr>
                            <th>@Html.DisplayName("Fecha")</th>
                            <th>@Html.DisplayName("Concepto")</th>
                            <th>@Html.DisplayName("Credito")</th>
                            <th>@Html.DisplayName("Debito")</th>
                            <th>@Html.DisplayName("Importe")</th>
                            <th>@Html.DisplayName("Saldo")</th>
                            <th>@Html.DisplayName("Observacion")</th>
                            <th>OPCIONES</th>
                        </tr>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@Html.DisplayFor(model => item.fecha_movimiento)</td>
                                <td>@Html.DisplayFor(model => item.concepto)</td>
                                <td>@Html.DisplayFor(model => item.desc_credito)</td>
                                <td>@Html.DisplayFor(model => item.desc_debito)</td>
                                <td>@Html.DisplayFor(model => item.importe_movimiento)</td>
                                <td> @Html.DisplayFor(model => item.saldo)</td>
                                <td> @Html.DisplayFor(model => item.observacion)</td>
                                <td>

                                    <a href="@Url.Action("Details", new { id = item.id })" title="Ver" class="">
                                        <i class="glyphicon glyphicon-eye-open"></i>
                                        <span class="sr-only">Ver</span>
                                    </a>
                                    <a href="@Url.Action("Edit", new { id = item.id })" title="Editar">
                                        <i class="glyphicon glyphicon-edit"></i>
                                        <span class="sr-only">Editar</span>
                                    </a>
                                    <a href="@Url.Action("Delete", new { id = item.id })" title="Eliminar">
                                        <i class="glyphicon glyphicon-remove"></i>
                                        <span class="sr-only">Eliminar</span>
                                    </a>

                                </td>
                            </tr>
                        }


                    </table>
                </div>

                @if (Model.PageCount > 1)
            {
                    <div class="pager">
                        @Html.PagedListPager(Model, page => Url.Action("Index", new
               {
                   page,
                   sortOrder = ViewBag.currentSort,
                   q = ViewBag.CurrentFilter
               }))
                        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
                    </div>
                }

           

</section>
</div><!-- /.content-wrapper -->